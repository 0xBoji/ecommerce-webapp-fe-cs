@model ecommerce_webapp_fe_cs.Models.AdminModels.ProductAdmin;

ï»¿@{
    Layout = "_LayoutStore";
}

 <table id="productsTable" class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Price</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script>
        function loadProducts() {
            $.ajax({
                url: 'https://localhost:7195/api/v1/products',
                type: 'GET',
                success: function (response) {
                    var products = response.$values;
                    $('#productsTable tbody').empty();
                    $.each(products, function (i, product) {
                        var row = $('<tr/>');
                        var nameLink = $('<a/>')
                            .attr('href', '/Product/Details/' + product.proId)
                            .text(product.proName);
                        row.append($('<td/>').append(nameLink));
                        row.append($('<td/>').text(product.description));
                        row.append($('<td/>').text(product.price));

                        $('#productsTable tbody').append(row);
                    });
                },
                error: function (xhr, status, error) {
                    console.error("Error fetching products:", error);
                }
            });
        }

        loadProducts();
    </script>
} 

@* <section class="product_section layout_padding">
    <div class="container">
        <div class="heading_container heading_center">
            <h2>
                All <span>Products</span>
            </h2>
        </div>

        <div class="row">
            @foreach (var product in Model)
            {
                <div class="col-sm-6 col-md-4 col-lg-3">
                    <div class="box">
                        <div class="option_container">
                            <div class="options">
                                <a href="@Url.Action("Detail/{id}", "Product")" class="option1">Details</a>
                                <a href="@Url.Action("Index", "Cart")" class="option2">Buy Now</a>
                            </div>
                        </div>
                        <div class="img-box">
                            <img src="@product.Image1" alt="Product Image">
                        </div>
                        <div class="detail-box">
                            <h5>@product.ProName</h5>
                            <h6>@product.Price</h6>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</section> *@